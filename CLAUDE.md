# SDXL Asset Manager - Claude Code é–‹ç™ºã‚¬ã‚¤ãƒ‰

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ç”»åƒç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®çµ±åˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚
Stable Diffusion XLã®è³¼å…¥ç´ æã¨è‡ªä½œç”Ÿæˆãƒ­ã‚°ã‚’ä¸€å…ƒç®¡ç†ã—ã€æœ€é©åŒ–ã‚’æ”¯æ´ã—ã¾ã™ã€‚

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- Python 3.12
- SQLiteï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰
- Notion APIï¼ˆå¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼‰
- ComfyUI APIï¼ˆç”»åƒç”Ÿæˆï¼‰
- pytestï¼ˆãƒ†ã‚¹ãƒˆï¼‰
- mypyï¼ˆå‹ãƒã‚§ãƒƒã‚¯ï¼‰
- ruffï¼ˆãƒªãƒ³ã‚¿ãƒ¼ï¼‰

## é–‹ç™ºè¦ç´„

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
- å‹ãƒ’ãƒ³ãƒˆã‚’å¿…ãšä½¿ç”¨
- docstringã¯Google Style
- æ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆæ­“è¿
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’é©åˆ‡ã«å®Ÿè£…
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«å¾“ã†

### ğŸš¨ é‡è¦ï¼šCI/å‹ãƒã‚§ãƒƒã‚¯äº’æ›æ€§
**Python 3.9+äº’æ›æ€§ã®ç¶­æŒãŒå¿…é ˆ**ã§ã™ã€‚ä»¥ä¸‹ã®å‹æ³¨é‡ˆã¯é¿ã‘ã¦ãã ã•ã„ï¼š

#### âŒ ä½¿ç”¨ç¦æ­¢ï¼ˆPython 3.10+ã§ã®ã¿åˆ©ç”¨å¯èƒ½ï¼‰
```python
# Union type syntax (Python 3.10+)
def func() -> str | None:  # âŒ NG
def func() -> dict[str, Any]:  # âŒ NG  
def func() -> list[Model]:  # âŒ NG
def func() -> type[Model]:  # âŒ NG
```

#### âœ… æ¨å¥¨ï¼ˆPython 3.9+äº’æ›ï¼‰
```python
from typing import Dict, List, Optional, Type, Union

def func() -> Optional[str]:  # âœ… OK
def func() -> Dict[str, Any]:  # âœ… OK
def func() -> List[Model]:  # âœ… OK
def func() -> Type[Model]:  # âœ… OK
def func() -> Union[str, int]:  # âœ… OK
```

#### ã‚ˆãã‚ã‚‹CIã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•
- **mypy Error**: `unsupported operand type(s) for |`
  â†’ `str | None` ã‚’ `Optional[str]` ã«å¤‰æ›´
- **mypy Error**: `'type' object is not subscriptable`
  â†’ `dict[str, Any]` ã‚’ `Dict[str, Any]` ã«å¤‰æ›´
- **ImportError**: `types-PyYAML` é–¢é€£
  â†’ `# type: ignore[import-untyped]` ã§å¯¾å¿œ

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥
- Git-flowã‚’æ¡ç”¨
- feature/ãƒ–ãƒ©ãƒ³ãƒã§é–‹ç™º
- developãƒ–ãƒ©ãƒ³ãƒã«çµ±åˆ
- mainãƒ–ãƒ©ãƒ³ãƒãŒå®‰å®šç‰ˆ

### ãƒ†ã‚¹ãƒˆ
```bash
# å®Ÿè¡Œå‰ã«å¿…ãšä»¥ä¸‹ã‚’ç¢ºèª
pytest
mypy src/
ruff check src/
```

## Claude GitHub App ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### ğŸš¨ é‡è¦ï¼šæ­£ã—ã„ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ–¹æ³•

Claude GitHub Appã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€**ãƒªãƒã‚¸ãƒˆãƒªå€‹åˆ¥ã§ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**ãŒå¿…è¦ã§ã™ã€‚

#### 1. å‰ææ¡ä»¶
- âœ… Claude Pro (MAX) ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³
- âœ… GitHub CLI (`gh`) ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- âœ… Claude Code CLI ä½¿ç”¨

#### 2. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªå€‹åˆ¥ã§Claude GitHub Appã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
/install-github-app

# 2. è¨­å®šç”»é¢ã§ä»¥ä¸‹ã‚’é¸æŠ
# - @Claude Code (Issue/PRãƒ¡ãƒ³ã‚·ãƒ§ãƒ³å¯¾å¿œ) âœ…
# - Claude Code Review (PRè‡ªå‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼) âœ…  
# - Subscription (Maxãƒ—ãƒ©ãƒ³ä½¿ç”¨) âœ…

# 3. ãƒ–ãƒ©ã‚¦ã‚¶ã§Claude.aièªè¨¼
# - æ¨©é™è¨±å¯
# - GitHubé€£æº

# 4. è‡ªå‹•PRã®ãƒãƒ¼ã‚¸
# - .github/workflows/claude-code-review.yml
# - .github/workflows/claude.yml
```

#### 3. ä½¿ç”¨æ–¹æ³•
```bash
# Issueã§@claudeãƒ¡ãƒ³ã‚·ãƒ§ãƒ³
@claude ã“ã® Issue ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„

# 1åˆ†ä»¥å†…ã«åå¿œé–‹å§‹
# - è‡ªå‹•ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
# - å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ  
# - PRè‡ªå‹•ä½œæˆ
```

#### 4. Bash Permissionè¨±å¯ã¨PRä½œæˆã®æŒ‡ç¤ºæ–¹æ³•

**ğŸš¨ é‡è¦**: Claude GitHub AppãŒBash Permissionï¼ˆgitã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€PRä½œæˆï¼‰ã‚’å¿…è¦ã¨ã™ã‚‹å ´åˆã®å¯¾å¿œæ–¹æ³•

##### Bash Permissionè¨±å¯
Claude GitHub AppãŒBash Permissionã‚’æ±‚ã‚ã¦ã„ã‚‹ã¨ãï¼š

```bash
# Issue ã‚³ãƒ¡ãƒ³ãƒˆã§ä»¥ä¸‹ã®å½¢å¼ã§è¨±å¯
@claude bash permissionè¨±å¯ã—ã¾ã™ã€‚

--allowedTools bash

æœ€çµ‚ç¢ºèªã¨PRä½œæˆã‚’å®Œäº†ã—ã¦ãã ã•ã„ã€‚
```

##### åŠ¹æœçš„ãª@claudeæŒ‡ç¤ºæ–‡ã®æ›¸ãæ–¹

**âœ… æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³**:
```bash
@claude ä»¥ä¸‹ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ï¼š

## å®Ÿè£…å†…å®¹
- å…·ä½“çš„ãªã‚¿ã‚¹ã‚¯1
- å…·ä½“çš„ãªã‚¿ã‚¹ã‚¯2

## æŠ€è¡“è¦ä»¶
- Python 3.9+äº’æ›æ€§ã‚’ç¶­æŒ
- æ—¢å­˜ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨
- CI ãŒå®Œå…¨ã«ãƒ‘ã‚¹ã™ã‚‹çŠ¶æ…‹

## æœŸå¾…ã™ã‚‹æˆæœç‰©
- PRä½œæˆã¾ã§å®Œäº†
- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèªæ¸ˆã¿

ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼
```

**âŒ é¿ã‘ã‚‹ã¹ããƒ‘ã‚¿ãƒ¼ãƒ³**:
```bash
# æ›–æ˜§ã™ãã‚‹æŒ‡ç¤º
@claude ã‚ˆã‚ã—ã

# æŠ€è¡“è¦ä»¶ãŒä¸æ˜ç¢º
@claude ä½•ã¨ã‹ã—ã¦
```

##### PRä½œæˆãŒå¤±æ•—ã—ãŸå ´åˆã®å¯¾å‡¦æ³•

Claude GitHub AppãŒPRä½œæˆã«å¤±æ•—ã—ãŸå ´åˆï¼š

1. **ãƒ–ãƒ©ãƒ³ãƒç¢ºèª**
   ```bash
   git fetch --all
   git branch -r | grep "claude/"
   ```

2. **æ‰‹å‹•PRä½œæˆ**
   ```bash
   gh pr create --base main --head "claude/issue-X-YYYYMMDD_HHMMSS" \
     --title "é©åˆ‡ãªã‚¿ã‚¤ãƒˆãƒ«" \
     --body "PRã®èª¬æ˜"
   ```

3. **Issueæ›´æ–°**
   - æ‰‹å‹•PRä½œæˆå®Œäº†ã‚’Issueã«ã‚³ãƒ¡ãƒ³ãƒˆ
   - PRãƒªãƒ³ã‚¯ã‚’æ˜è¨˜

##### å®Ÿéš›ã®é‹ç”¨äº‹ä¾‹ï¼ˆIssue #15ï¼‰

**æˆåŠŸäº‹ä¾‹**: ã‚³ãƒ¼ãƒ‰å“è³ªæ”¹å–„ã‚¿ã‚¹ã‚¯ã§ã®å®Œå…¨è‡ªå‹•åŒ–

```bash
# åˆå›æŒ‡ç¤ºï¼ˆå…·ä½“çš„ãªè¦ä»¶ã‚’æ˜è¨˜ï¼‰
@claude Issue#15ã®ã‚³ãƒ¼ãƒ‰å“è³ªæ”¹å–„ã§ä»¥ä¸‹ã®ç·Šæ€¥å¯¾å¿œãŒå¿…è¦ã§ã™ã€‚

ğŸš¨ ç·Šæ€¥ä¿®æ­£é …ç›®
1. Python 3.9äº’æ›æ€§ã‚¨ãƒ©ãƒ¼ï¼ˆæœ€å„ªå…ˆï¼‰
2. Ruff ã‚¹ã‚¿ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ï¼ˆ247ä»¶ï¼‰
3. pyproject.tomlè¨­å®šè­¦å‘Š

å®Ÿè¡Œç¢ºèªã‚³ãƒãƒ³ãƒ‰:
- python3 -m mypy src/ (Success: no issues found)
- python3 -m pytest (ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¯èƒ½)  
- python3 -m ruff check src/ --statistics (ã‚¨ãƒ©ãƒ¼0ä»¶)

CLAUDE.mdã®äº’æ›æ€§ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«å¾“ã„ã€Python 3.9+äº’æ›ã‚’ç¶­æŒã—ã¦ãã ã•ã„ã€‚

# Bash Permissionè¨±å¯
@claude bash permissionè¨±å¯ã—ã¾ã™ã€‚

--allowedTools bash

æœ€çµ‚ç¢ºèªã¨PRä½œæˆã‚’å®Œäº†ã—ã¦ãã ã•ã„ã€‚
```

**çµæœ**: 
- âœ… 9ç®‡æ‰€ã®Python 3.9äº’æ›æ€§ä¿®æ­£
- âœ… 2ç®‡æ‰€ã®datetimeéæ¨å¥¨è­¦å‘Šä¿®æ­£
- âœ… CI ruffãƒã‚§ãƒƒã‚¯å†æœ‰åŠ¹åŒ–
- âœ… ãƒ–ãƒ©ãƒ³ãƒä½œæˆãƒ»ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥å®Œäº†
- âŒ PRè‡ªå‹•ä½œæˆå¤±æ•—ï¼ˆæ‰‹å‹•ã§PR #16ä½œæˆï¼‰

**å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ**:
- å…·ä½“çš„ã§æ˜ç¢ºãªæŒ‡ç¤ºãŒåŠ¹æœçš„
- Bash Permissionè¨±å¯ã¯åˆ¥ã‚³ãƒ¡ãƒ³ãƒˆã§å®Ÿè¡Œ
- PRä½œæˆå¤±æ•—æ™‚ã®æ‰‹å‹•å¯¾å¿œæ‰‹é †ãŒé‡è¦

#### âŒ é–“é•ã£ãŸæ–¹æ³•ï¼ˆå‹•ä½œã—ãªã„ï¼‰
- GitHub Appsç”»é¢ã‹ã‚‰ã®æ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- æ‰‹å‹•ã§ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆ
- APIã‚­ãƒ¼ã®ã¿ã§ã®è¨­å®š

#### âœ… æ­£ã—ã„æ–¹æ³•
- `/install-github-app` ã‚³ãƒãƒ³ãƒ‰ä½¿ç”¨
- Claude.aiã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³é€£æº
- å…¬å¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è‡ªå‹•ç”Ÿæˆ

## Issueå¯¾å¿œã‚¬ã‚¤ãƒ‰

### Issueå‡¦ç†ã®æµã‚Œ
1. Issueã®å†…å®¹ã‚’ç†è§£
2. `@claude` ã§ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ï¼ˆè‡ªå‹•ã§featureãƒ–ãƒ©ãƒ³ãƒä½œæˆï¼‰
3. Claude GitHub AppãŒè‡ªå‹•å®Ÿè£…
4. ç”Ÿæˆã•ã‚ŒãŸPRã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒãƒ¼ã‚¸

### å®Ÿè£…å„ªå…ˆé †ä½
1. **Phase 1**: åŸºæœ¬æ©Ÿèƒ½ï¼ˆDBã€YAML loaderã€CLIï¼‰
2. **Phase 2**: NotionåŒæœŸ
3. **Phase 3**: ComfyUIé€£æº
4. **Phase 4**: LLMã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆ

- `src/cli.py`: ãƒ¡ã‚¤ãƒ³CLIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- `src/notion_sync.py`: Notion APIé€£æº
- `src/yaml_loader.py`: YAMLâ†’DBå¤‰æ›
- `src/models/`: SQLAlchemyãƒ¢ãƒ‡ãƒ«å®šç¾©
- `src/agent_tools/`: LLMãƒ„ãƒ¼ãƒ«å®Ÿè£…

## ç’°å¢ƒå¤‰æ•°

`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ï¼š
- `NOTION_API_KEY`: Notion APIãƒˆãƒ¼ã‚¯ãƒ³
- `NOTION_DATABASE_ID`: å¯¾è±¡ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ID
- `COMFYUI_HOST`: ComfyUI APIãƒ›ã‚¹ãƒˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: localhost:8188ï¼‰

## ãƒ‡ãƒãƒƒã‚°æƒ…å ±

- ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«: `logging.INFO`ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä½¿ç”¨
- ã‚¨ãƒ©ãƒ¼æ™‚ã¯è©³ç´°ãªã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’å«ã‚ã‚‹
- SQLã‚¯ã‚¨ãƒªã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã—ã¦å®Ÿè¡Œï¼ˆSQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ï¼‰

## é–‹ç™ºé€²æ— (2025-07-13)

### âœ… å®Œäº†æ¸ˆã¿

#### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤
- âœ… GitHubãƒªãƒã‚¸ãƒˆãƒªä½œæˆãƒ»åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ è¨­è¨ˆ (src/, tests/, docs/, data/)
- âœ… ä¾å­˜é–¢ä¿‚ç®¡ç† (requirements.txt, pyproject.toml)
- âœ… Git-flowãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã®æ¡ç”¨
- âœ… Claude GitHub Appé€£æºè¨­å®šå®Œäº†

#### CI/CD & å“è³ªç®¡ç†
- âœ… GitHub Actions CIè¨­å®š (pytest, mypy, ruff)
- âœ… ãƒ–ãƒ©ãƒ³ãƒä¿è­·ãƒ«ãƒ¼ãƒ«è¨­å®š (Pull Requestå¿…é ˆ)
- âœ… Claude Code Reviewè‡ªå‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼
- âœ… ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸è¨­å®š

#### Phase 1: åŸºæœ¬æ©Ÿèƒ½å®Ÿè£…
1. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŸºç›¤ (Issue #10) âœ… å®Œäº†**
   - SQLAlchemyãƒ¢ãƒ‡ãƒ«è¨­è¨ˆãƒ»å®Ÿè£… (6ãƒ†ãƒ¼ãƒ–ãƒ«)
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–æ©Ÿèƒ½
   - CRUDæ“ä½œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
   - åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ (21ãƒ†ã‚¹ãƒˆ)
   - PR #11ã§ãƒãƒ¼ã‚¸æ¸ˆã¿

2. **YAMLãƒ­ãƒ¼ãƒ€ãƒ¼ (Issue #2) âœ… å®Œäº†**
   - YAMLãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
   - SQLAlchemyãƒ¢ãƒ‡ãƒ«ã¸ã®å¤‰æ›
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æŒ¿å…¥æ©Ÿèƒ½
   - LoRAãƒ»ãƒ¢ãƒ‡ãƒ«é–¢ä¿‚ç®¡ç†
   - åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ (47ãƒ†ã‚¹ãƒˆ)
   - PR #12ã§ãƒãƒ¼ã‚¸æ¸ˆã¿

#### æŠ€è¡“çš„è§£æ±ºäº‹é …
- âœ… SQLAlchemy 2.0+ å¯¾å¿œ
- âœ… DetachedInstanceErrorå¯¾ç­– (session.expunge)
- âœ… å‹æ³¨é‡ˆå¯¾å¿œ (mypy strict mode)
- âœ… Claude GitHub Appé‹ç”¨ãƒ•ãƒ­ãƒ¼ç¢ºç«‹
- âœ… ãƒ–ãƒ©ãƒ³ãƒä¿è­·ãƒ«ãƒ¼ãƒ«é‹ç”¨çµŒé¨“

### ğŸ”„ é€²è¡Œä¸­

#### Issue #13 - CLIåŸºæœ¬æ©Ÿèƒ½å®Ÿè£…
- **çŠ¶æ³**: Claude GitHub Appå®Ÿè£…ä¸­
- **å†…å®¹**: clickä½¿ç”¨ã®ãƒ¢ãƒ€ãƒ³CLI
- **ã‚³ãƒãƒ³ãƒ‰**: db, yaml, search, run
- **å„ªå…ˆåº¦**: Phase 1æœ€çµ‚ã‚¿ã‚¹ã‚¯

### ğŸ“‹ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

#### 1. Phase 1å®Œäº†å¾Œã®å³åº§å¯¾å¿œ
- [ ] CLIå®Ÿè£…å®Œäº†ãƒ»ãƒ†ã‚¹ãƒˆ (Issue #13)
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
- [ ] ruff styleå•é¡Œä¿®æ­£ (åˆ¥Issue/PR)
- [ ] Phase 1çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿæ–½

#### 2. Phase 2: å¤–éƒ¨é€£æºæ©Ÿèƒ½
- [ ] Notion APIåŒæœŸæ©Ÿèƒ½ (Issue #4)
- [ ] ComfyUI APIé€£æº (Issue #5)
- [ ] ãƒãƒƒãƒå‡¦ç†ãƒ»è‡ªå‹•åŒ–

#### 3. Phase 3ä»¥é™
- [ ] LLMã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ©Ÿèƒ½
- [ ] Web UIå®Ÿè£…
- [ ] é«˜åº¦ãªæ¤œç´¢ãƒ»åˆ†ææ©Ÿèƒ½

### ğŸš¨ æ—¢çŸ¥ã®èª²é¡Œ

1. **~~ruffã‚¹ã‚¿ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ (717ä»¶)~~ âœ… è§£æ±ºæ¸ˆã¿ï¼ˆIssue #15ï¼‰**
   - âœ… 579ä»¶ã®è‡ªå‹•ä¿®æ­£ + æ‰‹å‹•ä¿®æ­£ã§å…¨ã‚¨ãƒ©ãƒ¼è§£æ±º
   - âœ… pyproject.tomlè¨­å®šã‚’lintã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ç§»è¡Œ
   - âœ… Python 3.9+äº’æ›æ€§ç¶­æŒã®ãŸã‚å‹æ³¨é‡ˆã‚’å…¨é¢ä¿®æ­£

2. **~~datetime.utcnow() éæ¨å¥¨è­¦å‘Š~~ âœ… è§£æ±ºæ¸ˆã¿ï¼ˆIssue #15ï¼‰**
   - âœ… `datetime.now(timezone.utc)` ã«ç§»è¡Œå®Œäº†ï¼ˆPython 3.9äº’æ›ï¼‰
   - âœ… SQLAlchemyãƒ¢ãƒ‡ãƒ«ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—é–¢æ•°ã‚’æ›´æ–°

3. **~~å‹æ³¨é‡ˆäº’æ›æ€§å•é¡Œ~~ âœ… è§£æ±ºæ¸ˆã¿ï¼ˆIssue #15ï¼‰**
   - âœ… Python 3.10+å‹æ³¨é‡ˆã‚’å…¨é¢çš„ã«Python 3.9+äº’æ›ã«å¤‰æ›´
   - âœ… `str | None` â†’ `Optional[str]`ã€`dict[str, Any]` â†’ `Dict[str, Any]` ç­‰
   - âœ… ruffè¨­å®šã§äº’æ›æ€§ãƒ«ãƒ¼ãƒ«ç„¡è¦–è¨­å®šè¿½åŠ  (UP045, UP006, UP007, UP017, UP035)

### ğŸ’¡ å­¦ç¿’äº‹é …

1. **Claude GitHub Appé‹ç”¨**
   - è‡ªå‹•å®Ÿè£…ã¯æˆåŠŸã€æ‰‹å‹•PRä½œæˆãƒ»ãƒãƒ¼ã‚¸ãŒå¿…è¦
   - CIå¤±æ•—æ™‚ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°çµŒé¨“è“„ç©
   - @claudeãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã§åŠ¹ç‡çš„ãªå®Ÿè£…æŒ‡ç¤º

2. **SQLAlchemy 2.0ç§»è¡Œ**
   - sessionç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ç¿’å¾—
   - å‹å®‰å…¨æ€§ã®é‡è¦æ€§ç¢ºèª
   - DetachedInstanceErrorå¯¾ç­–ã®å®Ÿè£…

3. **CI/CDæœ€é©åŒ–**
   - æ®µéšçš„å“è³ªãƒã‚§ãƒƒã‚¯ (tests â†’ types â†’ style)
   - ä¸€æ™‚çš„ç„¡åŠ¹åŒ–ã«ã‚ˆã‚‹é–‹ç™ºé€Ÿåº¦ã¨ã‚¯ã‚ªãƒªãƒ†ã‚£ã®ãƒãƒ©ãƒ³ã‚¹
   - ãƒ–ãƒ©ãƒ³ãƒä¿è­·ãƒ«ãƒ¼ãƒ«ã®æŸ”è»Ÿãªé‹ç”¨

4. **é–‹ç™ºãƒ•ãƒ­ãƒ¼æœ€é©åŒ–**
   - Claude Code CLI: è¨­è¨ˆãƒ»èª¿æŸ»ãƒ»æŒ‡ç¤º
   - Claude GitHub App: å®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆä½œæˆ
   - å½¹å‰²åˆ†æ‹…ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªé–‹ç™º

5. **å¤§è¦æ¨¡ã‚³ãƒ¼ãƒ‰å“è³ªæ”¹å–„ï¼ˆIssue #15ã®çµŒé¨“ï¼‰**
   - **717ä»¶ã®ã‚¨ãƒ©ãƒ¼å¯¾å¿œ**: è‡ªå‹•ä¿®æ­£ + æ‰‹å‹•ä¿®æ­£ã®æ®µéšçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒåŠ¹æœçš„
   - **Pythonäº’æ›æ€§**: å‹æ³¨é‡ˆã®å…¨é¢çš„ãªå¤‰æ›´ã¯sedã‚³ãƒãƒ³ãƒ‰ã§åŠ¹ç‡åŒ–å¯èƒ½
   - **CIè¨­å®š**: pyproject.tomlã§ã®äº’æ›æ€§ãƒ«ãƒ¼ãƒ«è¨­å®šã«ã‚ˆã‚Šã€å“è³ªã¨ãƒ¬ã‚¬ã‚·ãƒ¼å¯¾å¿œã®ä¸¡ç«‹
   - **ãƒ†ã‚¹ãƒˆä¿®æ­£**: ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹å¤‰æ›´ã«ä¼´ã†ãƒ†ã‚¹ãƒˆèª¿æ•´ãŒå¿…è¦

## æ³¨æ„äº‹é …

### ä¸€èˆ¬çš„ãªé–‹ç™ºæ³¨æ„äº‹é …
- å¤–éƒ¨Webã‚µãƒ¼ãƒ“ã‚¹ã¯å‘¼ã³å‡ºã•ãªã„ï¼ˆNotion/ComfyUI APIã‚’é™¤ãï¼‰
- ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã¯`data/images/`ã«ä¿å­˜
- YAMLãƒ•ã‚¡ã‚¤ãƒ«ã¯`data/yamls/`ã«ä¿å­˜
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã¯`.gitignore`ã«å«ã‚ã‚‹

### ğŸš¨ é‡è¦ï¼šPython 3.9+äº’æ›æ€§ç¶­æŒï¼ˆIssue #15å¯¾å¿œçµæœï¼‰

#### âŒ ä½¿ç”¨ç¦æ­¢ï¼ˆPython 3.10+ã§ã®ã¿åˆ©ç”¨å¯èƒ½ï¼‰
```python
# å‹æ³¨é‡ˆã§Unionæ¼”ç®—å­
def func() -> str | None  # âŒ
def func() -> dict[str, Any]  # âŒ
def func() -> list[Model]  # âŒ

# datetime.UTCï¼ˆPython 3.11+ï¼‰
datetime.now(datetime.UTC)  # âŒ
```

#### âœ… å¿…é ˆä½¿ç”¨ï¼ˆPython 3.9+äº’æ›ï¼‰
```python
from typing import Dict, List, Optional, Union

def func() -> Optional[str]  # âœ…
def func() -> Dict[str, Any]  # âœ… 
def func() -> List[Model]  # âœ…

# timezone.utcï¼ˆPython 3.2+ï¼‰
from datetime import timezone
datetime.now(timezone.utc)  # âœ…
```

#### pyproject.tomlè¨­å®šï¼ˆäº’æ›æ€§ç¶­æŒï¼‰
```toml
[tool.ruff.lint]
ignore = [
    "UP045", # Use `X | None` for type annotations
    "UP006", # Use `dict[str, Any]` instead of `Dict[str, Any]`
    "UP007", # Use `X | Y` for Union
    "UP017", # Use `datetime.UTC` alias
    "UP035", # `typing.List` is deprecated
]
```

#### å¤§è¦æ¨¡ä¿®æ­£æ™‚ã®åŠ¹ç‡çš„æ‰‹æ³•
```bash
# å‹æ³¨é‡ˆã®ä¸€æ‹¬å¤‰æ›´ï¼ˆsedã‚³ãƒãƒ³ãƒ‰ä½¿ç”¨ï¼‰
sed -i '' 's/str | None/Optional[str]/g' src/**/*.py
sed -i '' 's/dict\[str, Any\]/Dict[str, Any]/g' src/**/*.py
sed -i '' 's/list\[/List[/g' src/**/*.py

# è‡ªå‹•ä¿®æ­£å¯èƒ½ãªã‚¨ãƒ©ãƒ¼ã®ä¸€æ‹¬å‡¦ç†
python3 -m ruff check src/ --fix
python3 -m ruff check src/ --fix --unsafe-fixes
```

**é‡è¦**: ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯Python 3.9+ã®äº’æ›æ€§ã‚’ç¶­æŒã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ–°ã—ã„å‹æ³¨é‡ˆæ§‹æ–‡ã‚„APIä½¿ç”¨æ™‚ã¯å¿…ãšäº’æ›æ€§ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚